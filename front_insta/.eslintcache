[{"/Users/onda/Documents/handson/insta-clone/front_insta/src/index.tsx":"1","/Users/onda/Documents/handson/insta-clone/front_insta/src/serviceWorker.ts":"2","/Users/onda/Documents/handson/insta-clone/front_insta/src/app/store.ts":"3","/Users/onda/Documents/handson/insta-clone/front_insta/src/App.tsx":"4","/Users/onda/Documents/handson/insta-clone/front_insta/src/features/auth/authSlice.ts":"5","/Users/onda/Documents/handson/insta-clone/front_insta/src/features/core/Core.tsx":"6","/Users/onda/Documents/handson/insta-clone/front_insta/src/features/auth/Auth.tsx":"7","/Users/onda/Documents/handson/insta-clone/front_insta/src/features/post/postSlice.ts":"8","/Users/onda/Documents/handson/insta-clone/front_insta/src/features/post/Post.tsx":"9","/Users/onda/Documents/handson/insta-clone/front_insta/src/features/core/EditProfile.tsx":"10","/Users/onda/Documents/handson/insta-clone/front_insta/src/features/core/NewPost.tsx":"11"},{"size":648,"mtime":1607819984381,"results":"12","hashOfConfig":"13"},{"size":5424,"mtime":1607819984382,"results":"14","hashOfConfig":"13"},{"size":528,"mtime":1610183997994,"results":"15","hashOfConfig":"13"},{"size":238,"mtime":1609851194906,"results":"16","hashOfConfig":"13"},{"size":4813,"mtime":1610329439373,"results":"17","hashOfConfig":"13"},{"size":5240,"mtime":1610335480768,"results":"18","hashOfConfig":"13"},{"size":8227,"mtime":1610332923898,"results":"19","hashOfConfig":"13"},{"size":4845,"mtime":1610184278973,"results":"20","hashOfConfig":"13"},{"size":4209,"mtime":1610333008690,"results":"21","hashOfConfig":"13"},{"size":2554,"mtime":1610334419579,"results":"22","hashOfConfig":"13"},{"size":2426,"mtime":1610335425912,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"1ejpzoq",{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41","usedDeprecatedRules":"26"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/onda/Documents/handson/insta-clone/front_insta/src/index.tsx",[],["48","49"],"/Users/onda/Documents/handson/insta-clone/front_insta/src/serviceWorker.ts",[],"/Users/onda/Documents/handson/insta-clone/front_insta/src/app/store.ts",[],"/Users/onda/Documents/handson/insta-clone/front_insta/src/App.tsx",[],"/Users/onda/Documents/handson/insta-clone/front_insta/src/features/auth/authSlice.ts",[],"/Users/onda/Documents/handson/insta-clone/front_insta/src/features/core/Core.tsx",[],"/Users/onda/Documents/handson/insta-clone/front_insta/src/features/auth/Auth.tsx",[],"/Users/onda/Documents/handson/insta-clone/front_insta/src/features/post/postSlice.ts",["50","51","52"],"import { createSlice, createAsyncThunk, Action } from \"@reduxjs/toolkit\";\nimport { RootState } from \"../../app/store\";\nimport axios from \"axios\";\nimport { PROPS_NEWPOST, PROPS_LIKED, PROPS_COMMENT } from \"../types\";\nimport { create } from \"yup/lib/Reference\";\nimport { CallToActionSharp } from \"@material-ui/icons\";\n\nconst apiUrlPost = `${process.env.REACT_APP_DEV_API_URL}api/post/`;\nconst apiUrlComment = `${process.env.REACT_APP_DEV_API_URL}api/comment/`;\n\nexport const fetchAsyncGetPosts = createAsyncThunk(\"post/get\", async () => {\n  const res = await axios.get(apiUrlPost, {\n    headers: {\n      Authorization: `JWT ${localStorage.localJWT}`,\n    },\n  });\n  return res.data;\n});\n\nexport const fetchAsyncNewPost = createAsyncThunk(\n  \"post/post\",\n  async (newPost: PROPS_NEWPOST) => {\n    const uploadData = new FormData();\n    uploadData.append(\"title\", newPost.title);\n    newPost.img && uploadData.append(\"img\", newPost.img, newPost.img.name);\n    const res = await axios.post(apiUrlPost, uploadData, {\n      headers: {\n        \"Context-Type\": \"application/json\",\n        Authorization: `JWT ${localStorage.localJWT}`,\n      },\n    });\n    return res.data;\n  }\n);\n\nexport const fetchAsyncPatchLiked = createAsyncThunk(\n  \"post/patch\",\n  async (liked: PROPS_LIKED) => {\n    const currentLiked = liked.current;\n    const uploadData = new FormData();\n\n    let isOverlapped = false;\n    currentLiked.forEach((current) => {\n      if (current === liked.new) {\n        isOverlapped = true;\n      } else {\n        uploadData.append(\"liked\", String(current));\n      }\n    });\n\n    if (!isOverlapped) {\n      uploadData.append(\"liked\", String(liked.new));\n    } else if (currentLiked.length === 1) {\n      uploadData.append(\"title\", liked.title);\n      const res = await axios.put(`${apiUrlPost}${liked.id}/`, uploadData, {\n        headers: {\n          \"Context-Type\": \"application/json\",\n          Authorization: `JWT ${localStorage.localJWT}`,\n        },\n      });\n      return res.data;\n    }\n    const res = await axios.patch(`${apiUrlPost}${liked.id}/`, uploadData, {\n      headers: {\n        \"Context-Type\": \"application/json\",\n        Authorization: `JWT ${localStorage.localJWT}`,\n      },\n    });\n    return res.data;\n  }\n);\n\nexport const fetchAsyncGetComments = createAsyncThunk(\n  \"comment/get\",\n  async () => {\n    const res = await axios.get(apiUrlComment, {\n      headers: {\n        Authorization: `JWT ${localStorage.localJWT}`,\n      },\n    })\n    return res.data;\n  }\n);\n\nexport const fetchAsyncPostComment = createAsyncThunk(\n  \"comment/post\",\n  async (comment: PROPS_COMMENT) => {\n    const res = await axios.post(apiUrlComment, comment, {\n      headers: {\n        Authorization: `JWT ${localStorage.localJWT}`,\n      },\n    });\n    return res.data;\n  }\n);\n\nexport const postSlice = createSlice({\n  name: \"post\",\n  initialState: {\n    isLoadingPost: false,\n    openNewPost: false,\n    posts: [\n      {\n        id: 0,\n        title: \"\",\n        userPost: 0,\n        created_on: \"\",\n        img: \"\",\n        liked: [0],\n      },\n    ],\n    comments: [\n      {\n        id: 0,\n        text: \"\",\n        userComment: 0,\n        post: 0,\n      },\n    ],\n  },\n  reducers: {\n    fetchPostStart(state) {\n      state.isLoadingPost = true;\n    },\n    fetchPostEnd(state) {\n      state.isLoadingPost = false;\n    },\n    setOpenNewPost(state) {\n      state.openNewPost = true;\n    },\n    resetOpenNewPost(state) {\n      state.openNewPost = false;\n    }\n  },\n  extraReducers: (builder) => {\n    builder.addCase(fetchAsyncGetPosts.fulfilled, (state, action) => {\n      return {\n        ...state,\n        posts: action.payload,\n      };\n    });\n    builder.addCase(fetchAsyncNewPost.fulfilled, (state, action) => {\n      return {\n        ...state,\n        posts: [...state.posts, action.payload],\n      };\n    });\n    builder.addCase(fetchAsyncGetComments.fulfilled, (state, action) => {\n      return {\n        ...state,\n        posts: action.payload,\n      };\n    });\n    builder.addCase(fetchAsyncPostComment.fulfilled, (state, action) => {\n      return {\n        ...state,\n        posts: [...state.comments, action.payload],\n      };\n    });\n    builder.addCase(fetchAsyncPatchLiked.fulfilled, (state, action) => {\n      return {\n        ...state,\n        posts: state.posts.map((post) =>\n          post.id === action.payload.id ? action.payload : post\n        ),\n      };\n    });\n  },\n});\n\nexport const {\n  fetchPostStart,\n  fetchPostEnd,\n  setOpenNewPost,\n  resetOpenNewPost,\n} = postSlice.actions;\n\nexport const selectIsLoadingPost = (state: RootState) =>\n  state.post.isLoadingPost;\nexport const selectOpenNewPost = (state: RootState) => state.post.openNewPost;\nexport const selectPosts = (state: RootState) => state.post.posts;\nexport const selectComments = (state: RootState) => state.post.comments;\n\nexport default postSlice.reducer;\n","/Users/onda/Documents/handson/insta-clone/front_insta/src/features/post/Post.tsx",[],"/Users/onda/Documents/handson/insta-clone/front_insta/src/features/core/EditProfile.tsx",[],"/Users/onda/Documents/handson/insta-clone/front_insta/src/features/core/NewPost.tsx",[],{"ruleId":"53","replacedBy":"54"},{"ruleId":"55","replacedBy":"56"},{"ruleId":"57","severity":1,"message":"58","line":1,"column":41,"nodeType":"59","messageId":"60","endLine":1,"endColumn":47},{"ruleId":"57","severity":1,"message":"61","line":5,"column":10,"nodeType":"59","messageId":"60","endLine":5,"endColumn":16},{"ruleId":"57","severity":1,"message":"62","line":6,"column":10,"nodeType":"59","messageId":"60","endLine":6,"endColumn":27},"no-native-reassign",["63"],"no-negated-in-lhs",["64"],"@typescript-eslint/no-unused-vars","'Action' is defined but never used.","Identifier","unusedVar","'create' is defined but never used.","'CallToActionSharp' is defined but never used.","no-global-assign","no-unsafe-negation"]